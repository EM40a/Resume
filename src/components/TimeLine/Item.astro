---
import { Icon } from "astro-icon/components";

interface Props {
  title: string;
  link?: {
    label: string;
    url: string;
  };
  description: string[];
  location?: string;
  date: string;
  tags?: string[];
  button?: {
    label: string;
    url: string;
  };
}

const { title, link, description, date, location, tags, button } = Astro.props;
---

<div
  class="absolute w-3 h-3 bg-light-blue-100 rounded-full mt-1.5 -start-1.5 border border-white
         dark:border-dark-blue-500 dark:bg-teal-400"
>
</div>

<time class="text-sm font-normal leading-none text-light-blue-500">
  {date},
</time>

<span class="text-sm font-normal leading-none text-light-blue-500"
  >{location}</span
>

<h3 class="mt-2 text-lg font-semibold text-gray-900 dark:text-white">
  {title}
   |
  {
    link && (
      <a
        href={link.url}
        target="_blank"
        rel="noopener noreferrer"
        class="opacity-75 hover:opacity-100"
      >
        {link.label}

        <Icon
          name="mdi:open-in-new"
          class="inline-flex size-3 align-text-top"
        />
      </a>
    )
  }
</h3>

{description.map((paragraph) => <p class="paragraph  text-gray-400">{paragraph}</p>)}

{
  tags && (
    <div class="my-4">
      <ul class="flex flex-wrap gap-2">
        {tags.map((tag) => (
          <li class="px-3 py-1 text-xs font-medium leading-5 rounded-full bg-teal-400/10 text-accent transition">
            {tag}
          </li>
        ))}
      </ul>
    </div>
  )
}

{
  button && (
    <a
      href={button.url}
      target="_blank"
      rel="noopener noreferrer"
      class="inline-flex items-center px-4 py-2 text-sm font-medium border border-light-blue-300 rounded-lg hover:bg-teal-400/10 dark:text-accent "
    >
      {button.label || "Saber m√°s..."}
      <Icon name="mdi:arrow-right" class="animate-bounce-x ml-5" />
    </a>
  )
}
